{% extends "base.html" %}
{% load i18n %}

{% block title %}Login / Registration Form{% endblock %}
{% block content %}
<h3>{% trans "Please enter your account information" %}</h3>

<form method="post" action=".">{% csrf_token %}
{{ form.next }}

<table style="float: left; margin-right: 40px;">
    <tr><td>Username:</td><td><input type="input" name="uname" /></td></tr>

    <tr><td>Password:</td><td><input type="password" name="password" /></td></tr>

    <tr><td></td><td><input type="submit" value="{% trans "Login" %}"/></td></tr>
</table>

<table>
{# Satchmo generates username automatically; might switch to that later #}
    <tr><td colspan="2">{% trans "Be sure to include a valid email address." %}</td></tr>

    <tr><td>{{ form.username.label_tag }}:</td><td>{{ form.username }}</td></tr>
    <tr><td></td><td>{% if form.username.errors %}*** {{ form.username.errors|join:", " }}{% endif %}</td></tr>

    <tr><td>{{ form.email.label_tag }}:</td><td>{{ form.email }}</td></tr>
    <tr><td></td><td>{% if form.email.errors %}*** {{ form.email.errors|join:", " }}{% endif %}</td></tr>

{% if form.first_name %}
    <tr><td>{{ form.first_name.label_tag }}:</td><td>{{ form.first_name }}</td></tr>
    <tr><td></td><td>{% if form.first_name.errors %}*** {{ form.first_name.errors|join:", " }}{% endif %}</td></tr>
{% endif %}

{% if form.last_name %}
    <tr><td>{{ form.last_name.label_tag }}:</td><td>{{ form.last_name }}</td></tr>
    <tr><td></td><td>{% if form.last_name.errors %}*** {{ form.last_name.errors|join:", " }}{% endif %}</td></tr>
{% endif %}

    <tr><td>{{ form.password1.label_tag }}:</td><td>{{ form.password1 }}</td></tr>
    <tr><td></td><td>{% if form.password1.errors %}*** {{ form.password1.errors|join:", " }}{% endif %}</td></tr>

    <tr><td>{{ form.password2.label_tag }}:</td><td>{{ form.password2 }}</td></tr>
    <tr><td></td><td>{% if form.password2.errors %}*** {{ form.password2.errors|join:", " }}{% endif %}</td></tr>

{% if show_newsletter %}
    <tr><td>{{ form.newsletter.label_tag }}:</td><td>{{ form.newsletter }}</td></tr>
    <tr><td></td><td>{% if form.newsletter.errors %}*** {{ form.newsletter.errors|join:", " }}{% endif %}</td></tr>
{% else %}
    <input type='hidden' name='newsletter' value="False" />
{% endif %}

    <tr><td></td><td><input type="submit" value="{% trans "Create Account" %}"/></td></tr>
</table>

</form>

{% url auth_password_reset as auth_password_reset %}
{% if auth_password_reset %}
    <p>{% trans "If you forgot your password: " %} <a href="{% url auth_password_reset %}">{% trans "reset password" %}</a>.</p>
{% endif %}

{% endblock %}
